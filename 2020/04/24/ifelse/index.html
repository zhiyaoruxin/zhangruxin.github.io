<!DOCTYPE html>

<html lang="zh-CN">

<head>
  
  <title>9个技巧，让if else更优雅 - ZRX</title>
  <meta charset="UTF-8">
  <meta name="description" content="张如心个人成长博客">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png" />
  <meta name="description" content="if else 是我们写代码时，使用频率最高的关键字之一，本文主要详解如何让看起来烦人的if else看起来更优雅。">
<meta property="og:type" content="article">
<meta property="og:title" content="9个技巧，让if else更优雅">
<meta property="og:url" content="http://zrxmzy.github.io.git/2020/04/24/ifelse/">
<meta property="og:site_name" content="ZRX">
<meta property="og:description" content="if else 是我们写代码时，使用频率最高的关键字之一，本文主要详解如何让看起来烦人的if else看起来更优雅。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-04-24T01:24:37.000Z">
<meta property="article:modified_time" content="2020-04-24T02:21:52.557Z">
<meta property="article:author" content="张如心">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/gh/nexmoe/nexmoe.github.io@latest/css/style.css,npm/highlight.js@9.15.8/styles/atom-one-dark.css,gh/nexmoe/nexmoe.github.io@latest/lib/mdui_043tiny/css/mdui.css,gh/nexmoe/nexmoe.github.io@latest/lib/iconfont/iconfont.css" crossorigin>
  
  <!--<link rel="stylesheet" href="/css/style.css?v=1588989058615">-->

   
    <style>
      .nexmoe-avatar img:hover {
        -webkit-transform: rotateZ(360deg);
        -moz-transform: rotateZ(360deg);
        transform: rotateZ(360deg);
      }	
    </style>
  
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="ZRX" type="application/atom+xml">
</head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(/images/background2.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="张如心" class="mdui-btn mdui-btn-icon"><img src="/images/avatar.png" alt="张如心"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="张如心">
            <img src="/images/avatar.png" alt="张如心" alt="张如心">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>8</div>
        <div><span>标签</span>6</div>
        <div><span>分类</span>6</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/friend" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-dribbble"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/my" title="请我喝茶">
            <i class="mdui-list-item-icon nexmoefont icon-eye-fill"></i>
            <div class="mdui-list-item-content">
                请我喝茶
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/404" title="公益404">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                公益404
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        <form id="search_form" action_e="https://cn.bing.com/search?q=site:zhangruxin.com" onsubmit="return search();">
            <label><input id="search_value" name="q" type="search" placeholder="搜索"></label>
        </form>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">社交按钮</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/20238211" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/zrxmzy/zrxmzy.github.io" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="https://weibo.com/p/1005055373097860/home?from=page_100505&mod=TAB&is_all=1#place" target="_blank" mdui-tooltip="{content: '微博'}" style="color: rgb(220, 20, 60);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-weibo"></i>
        </a><a class="mdui-ripple" href="https://mp.weixin.qq.com/" target="_blank" mdui-tooltip="{content: '微信'}" style="color: rgb(60, 220, 130);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-wechat-fill"></i>
        </a><a class="mdui-ripple" href="https://graph.qq.com/oauth2.0/show?which=Login&display=pc&response_type=code&client_id=101477621&redirect_uri=https%3A%2F%2Fsso.e.qq.com%2Fpassport%3Fservice_tag%3D14%26sso_redirect_uri%3Dhttps%253A%252F%252Fadnet.qq.com%252F&scope=get_user_info" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(100, 185, 255);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-QQ"></i>
        </a><a class="mdui-ripple" href="https://www.zhihu.com/signin?next=%2F" target="_blank" mdui-tooltip="{content: '知乎'}" style="color: rgb(65, 105, 255);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-zhihu"></i>
        </a>
    </div>
</div>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">标签云</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/books/" style="font-size: 10px;">books</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/life/" style="font-size: 20px;">life</a> <a href="/tags/surprise/" style="font-size: 10px;">surprise</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正则表达式</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章分类</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/python/">python</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/一生/">一生</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/人生/">人生</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/健康常识/">健康常识</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/编程/">编程</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/阅读/">阅读</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2020 张如心
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
  
  
      <div class="nexmoe-post-cover" style="padding-bottom: 66.66666666666666%;"> 
          <img data-src="/images/ifelse.jpg" data-sizes="auto" alt="9个技巧，让if else更优雅" class="lazyload">
          <h1>9个技巧，让if else更优雅</h1>
      </div>
  
  
  <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2020年04月24日</a>
    <a><i class="nexmoefont icon-areachart"></i>1.2k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 5 分钟</a>
</div>

  <div class="nexmoe-post-right">
    
      <div class="nexmoe-fixed">
        <div class="nexmoe-valign">
            <div class="nexmoe-toc">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-使用return"><span class="toc-number">1.</span> <span class="toc-text">1. 使用return</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-使用Map"><span class="toc-number">2.</span> <span class="toc-text">2. 使用Map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-使用三元运算符"><span class="toc-number">3.</span> <span class="toc-text">3. 使用三元运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-合并表达式"><span class="toc-number">4.</span> <span class="toc-text">4. 合并表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-使用枚举"><span class="toc-number">5.</span> <span class="toc-text">5. 使用枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-使用Optional"><span class="toc-number">6.</span> <span class="toc-text">6. 使用Optional</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-梳理优化判断逻辑"><span class="toc-number">7.</span> <span class="toc-text">7. 梳理优化判断逻辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-使用多态"><span class="toc-number">8.</span> <span class="toc-text">8. 使用多态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-选择性的使用switch"><span class="toc-number">9.</span> <span class="toc-text">9. 选择性的使用switch</span></a></li></ol>
            </div>
        </div>
      </div>
    
  </div>

  <article>
    <p>if else 是我们写代码时，使用频率最高的关键字之一，本文主要详解如何让看起来烦人的if else看起来更优雅。<br><a id="more"></a><br>本文提供了9中方法来解决那些”烦人”的if else</p>
<h2 id="1-使用return"><a href="#1-使用return" class="headerlink" title="1. 使用return"></a>1. 使用return</h2><ul>
<li>优化前代码<pre><code>  if (str.equals(&quot;java&quot;)) {
      // 业务代码 ! true;
  } else {
      return ;
  }
</code></pre></li>
<li>优化后代码<pre><code>  if (str.equals(&quot;java&quot;)) {
     return ;
  }
  return false; 
</code></pre></li>
</ul>
<h2 id="2-使用Map"><a href="#2-使用Map" class="headerlink" title="2. 使用Map"></a>2. 使用Map</h2><ul>
<li>优化前代码：<pre><code>  if (t == 1) {
      type = &quot;name&quot;;
  } else if (t == 2) {
      type = &quot;id&quot;;
  } else if (t == 3) {
      type = &quot;mobile&quot;;
  }
</code></pre></li>
<li>我们先定义一个 Map 数组，把相关判断信息存储起来：<pre><code>  Map&lt;Integer, String&gt; typeMap = new HashMap&lt;&gt;();
  typeMap.put(1, &quot;name&quot;);
  typeMap.put(2, &quot;id&quot;);
  typeMap.put(3, &quot;mobile&quot;);
</code></pre></li>
<li>之前的判断语句可以使用以下一行代码代替了：<pre><code>  type = typeMap.get(ty);
</code></pre></li>
</ul>
<h2 id="3-使用三元运算符"><a href="#3-使用三元运算符" class="headerlink" title="3. 使用三元运算符"></a>3. 使用三元运算符</h2><p>三元运算符也叫三元表达式或三目运算符/表达式</p>
<ul>
<li>优化前代码：<pre><code>  Integer score = 81;
  if (score &gt; 80) {
      score = 100;
  } else {
      score = 60;
  }
</code></pre></li>
<li>优化后代码：<pre><code>  score = score &gt; 80 ? 100 : 60;
</code></pre></li>
</ul>
<h2 id="4-合并表达式"><a href="#4-合并表达式" class="headerlink" title="4. 合并表达式"></a>4. 合并表达式</h2><p>在项目中有些逻辑判断可以通过梳理和归纳，变更为更简单易懂的逻辑判断代码</p>
<ul>
<li>优化前代码：<pre><code>  String city = &quot;西安&quot;;
  String area = &quot;029&quot;;
  String province = &quot;陕西&quot;;
  if (&quot;西安&quot;.equals(city)) {
      return &quot;xi&#39;an&quot;;
  }
  if (&quot;029&quot;.equals(area)) {
      return &quot;xi&#39;an&quot;;
  }
  if (&quot;陕西&quot;.equals(province)){
      return &quot;xi&#39;an&quot;;
  }
</code></pre></li>
<li>优化后代码：<pre><code>  if (&quot;西安&quot;.equals(city) || &quot;029&quot;.equals(area) || &quot;陕西&quot;.equals(province)){
      return &quot;xi&#39;an&quot;;
  }
</code></pre></li>
</ul>
<h2 id="5-使用枚举"><a href="#5-使用枚举" class="headerlink" title="5. 使用枚举"></a>5. 使用枚举</h2><p>JDK1.5 引入了新的类型 - 枚举（enum）</p>
<ul>
<li>优化前代码：<pre><code>  Integer typeId = 0;
  String type = &quot;Name&quot;;
  if (&quot;Name&quot;.equals(type)) {
      typeId = 1;
  } else if (&quot;Age&quot;.equals(type)) {
      typeId = 2;
  } else if (&quot;Address&quot;.equals(type)) {
      typeId = 3;
  }
</code></pre></li>
<li>优化时，我们先来定义一个枚举：<pre><code>  public enum TypeEnum {
      Name(1), Age(2), Address(3);
      public Integer typeId;
      TypeEnum(Integer typeId) {
          this.typeId = typeId;
      }
  }
</code></pre></li>
<li>之前的 if else 判断就可以被如下一行代码所替代了：<pre><code>  typeId = TypeEnum.valueOf(&quot;Name&quot;).typeId;
</code></pre></li>
</ul>
<h2 id="6-使用Optional"><a href="#6-使用Optional" class="headerlink" title="6. 使用Optional"></a>6. 使用Optional</h2><p>JDK1.8 引入了Optional类，JDK1.9进行了改造，增加了ifPresentOrElse()方法</p>
<ul>
<li>优化前代码：<pre><code>  String str = &quot;java&quot;;
  if (str == null) {
      System.out.println(&quot;Null&quot;);
  } else {
      System.out.println(str);
  }
</code></pre></li>
<li>优化后代码：<pre><code>  Optional&lt;String&gt; opt = Optional.of(&quot;java&quot;);
  opt.ifPresentOrElse(v -&gt; 
  System.out.println(v), () -&gt; System.out.println(&quot;Null&quot;));
</code></pre><strong> 小贴士：注意运行版本，必须是 JDK 9+ 才行。</strong></li>
</ul>
<h2 id="7-梳理优化判断逻辑"><a href="#7-梳理优化判断逻辑" class="headerlink" title="7. 梳理优化判断逻辑"></a>7. 梳理优化判断逻辑</h2><ul>
<li>优化前代码：<pre><code>  // 年龄大于 18
  if (age &gt; 18) {
      // 工资大于 5000
      if (salary &gt; 5000) {
          // 是否漂亮
          if (pretty == true) {
              return true;
          }
      }
  }
  return false;
</code></pre></li>
<li>优化后代码：<pre><code>  if (age &lt; 18) {
      return false;
  }
  if (salary &lt; 5000) {
      return false;
  }
  return pretty == true; 
</code></pre><strong> 我们需要尽量把表达式中的包含关系改为平行关系，这样代码可读性更高，逻辑更清晰。</strong></li>
</ul>
<h2 id="8-使用多态"><a href="#8-使用多态" class="headerlink" title="8. 使用多态"></a>8. 使用多态</h2><p>封装、继承和多态是OOP（面向对象编程）的重要思想，提供一种去除ifelse方法</p>
<ul>
<li>优化前代码：<pre><code>  Integer typeId = 0;
  String type = &quot;Name&quot;;
  if (&quot;Name&quot;.equals(type)) {
      typeId = 1;
  } else if (&quot;Age&quot;.equals(type)) {
      typeId = 2;
  } else if (&quot;Address&quot;.equals(type)) {
      typeId = 3;
  }
</code></pre></li>
<li><p>使用多态，我们先定义一个接口，在接口中声明一个公共返回 typeId 的方法，在添加三个子类分别实现这三个子类，实现代码如下：</p>
<pre><code>  public interface IType {
      public Integer getType();
  }

  public class Name implements IType {
      @Override
      public Integer getType() {
          return 1;
      }
  }

  public class Age implements IType {
      @Override
      public Integer getType() {
          return 2;
      }
  }

  public class Address implements IType {
      @Override
      public Integer getType() {
          return 3;
      }
  }
</code></pre><p><strong> 注意：为了简便我们这里把类和接口放到了一个代码块中，在实际开发中应该分别创建一个接口和三个类分别存储。</strong></p>
</li>
<li>此时，我们之前的 if else 判断就可以改为如下代码：<pre><code>  IType itype = (IType) Class.forName(&quot;com.example.&quot; + type).newInstance();
  Integer typeId = itype.getType();
</code></pre></li>
</ul>
<h2 id="9-选择性的使用switch"><a href="#9-选择性的使用switch" class="headerlink" title="9. 选择性的使用switch"></a>9. 选择性的使用switch</h2><p>ifelse和switch两者都能使用的情况下，可以尽可能使用switch，因为switch在常量分支选择时，switch性能会比ifelse高</p>
<ul>
<li>if else 判断代码：<pre><code>  if (cmd.equals(&quot;add&quot;)) {
      result = n1 + n2;
  } else if (cmd.equals(&quot;subtract&quot;)) {
      result = n1 - n2;
  } else if (cmd.equals(&quot;multiply&quot;)) {
      result = n1 * n2;
  } else if (cmd.equals(&quot;divide&quot;)) {
      result = n1 / n2;
  } else if (cmd.equals(&quot;modulo&quot;)) {
      result = n1 % n2;
  }
</code></pre></li>
<li>switch 代码：<pre><code>  switch (cmd) {
      case &quot;add&quot;:
          result = n1 + n2;
          break;
      case &quot;subtract&quot;:
          result = n1 - n2;
          break;
      case &quot;multiply&quot;:
          result = n1 * n2;
          break;
      case &quot;divide&quot;:
          result = n1 / n2;
          break;
      case &quot;modulo&quot;:
          result = n1 % n2;
          break;
  }
</code></pre></li>
<li>在 Java 14 可使用 switch 代码块，实现代码如下：<pre><code>  // java 14
  switch (cmd) {
      case &quot;add&quot; -&gt; {
          result = n1 + n2;
      }
      case &quot;subtract&quot; -&gt; {
          result = n1 - n2;
      }
      case &quot;multiply&quot; -&gt; {
          result = n1 * n2;
      }
      case &quot;divide&quot; -&gt; {
          result = n1 / n2;
      }
      case &quot;modulo&quot; -&gt; {
          result = n1 % n2;
      }
  }
</code></pre></li>
</ul>
<p><strong> 源自：’脚本之家’微信公众号 </strong></p>

  </article>

  <div class="nexmoe-post-meta nexmoe-rainbow">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
    
    
        <a class="nexmoefont icon-tag-fill -link" href="/tags/java/" rel="tag">java</a>
    
</div>

  <div class="nexmoe-post-footer">
    
      
  <div class="nexmoe-post-copyright">
    <strong>本文作者：</strong>张如心<br>
    <strong>本文链接：</strong><a href="http://zrxmzy.github.io.git/2020/04/24/ifelse/" title="http:&#x2F;&#x2F;zrxmzy.github.io.git&#x2F;2020&#x2F;04&#x2F;24&#x2F;ifelse&#x2F;" target="_blank" rel="noopener">http:&#x2F;&#x2F;zrxmzy.github.io.git&#x2F;2020&#x2F;04&#x2F;24&#x2F;ifelse&#x2F;</a><br>
    
      <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
    
  </div>


    
    <section class="nexmoe-comment">
    <div id="lv-container" data-id="city" data-uid="MTAyMC80OTkwOC8yNjM5OQ">
    <script id="livere-comment-js">
    (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];
       if (typeof LivereTower === 'function') { return; }
       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;
       e.parentNode.insertBefore(j, e);
    })(document, 'script');
    </script>
</div>
</section>
  </div>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js,gh/nexmoe/nexmoe.github.io@latest/js/app.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!--<script src="/js/app.js?v=1588989058619"></script>-->


    <script src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>


 
<script> 
!function(e,t,a){function n(){c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),o(),r()}function r(){for(var e=0;e<d.length;e++)d[e].alpha<=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)}function o(){var t="function"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),i(e)}}function i(e){var a=t.createElement("div");a.className="heart",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}function s(){return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);
</script>

  





    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?41fc030db57d5570dd22f78997dc4a7e';
    var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<!--
	<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> 
-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>

</html>
